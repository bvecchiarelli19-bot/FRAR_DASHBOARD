<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MV-FRAR Research Dashboard v2.1</title>
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@2.0.0"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');
:root{--bg:#0a0f1a;--bg2:#111827;--card:#1a2234;--border:#2d3a50;--t1:#f1f5f9;--t2:#94a3b8;--t3:#64748b}
body{font-family:'Plus Jakarta Sans',sans-serif;background:var(--bg);color:var(--t1)}
.font-mono{font-family:'JetBrains Mono',monospace}
.tab-active{border-bottom:2px solid #3b82f6;color:#3b82f6;background:rgba(59,130,246,.1)}
.card{background:var(--card);border:1px solid var(--border);border-radius:12px}
.regime-LOW{background:rgba(16,185,129,.15);color:#34d399;border:2px solid #10b981}
.regime-MID{background:rgba(245,158,11,.15);color:#fbbf24;border:2px solid #f59e0b}
.regime-HIGH{background:rgba(249,115,22,.15);color:#fb923c;border:2px solid #f97316}
.regime-CRISIS{background:rgba(239,68,68,.15);color:#f87171;border:2px solid #ef4444}
.quad-Q1{background:rgba(59,130,246,.15);color:#60a5fa;border:2px solid #3b82f6}
.quad-Q2{background:rgba(245,158,11,.15);color:#fbbf24;border:2px solid #f59e0b}
.quad-Q3{background:rgba(239,68,68,.15);color:#f87171;border:2px solid #ef4444}
.quad-Q4{background:rgba(139,92,246,.15);color:#a78bfa;border:2px solid #8b5cf6}
.time-btn{transition:all .15s}.time-btn:hover{background:var(--bg2)}.time-btn.active{background:#3b82f6;color:#fff}
.winner{background:rgba(16,185,129,.15)}
.quad-grid{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:1fr 1fr;gap:6px;width:280px;height:280px}
.quad-cell{display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:10px;transition:all .3s;opacity:.35;background:var(--bg2);border:2px solid var(--border)}
.quad-cell.active{opacity:1;transform:scale(1.03);box-shadow:0 0 30px rgba(59,130,246,.3)}
.quad-cell-Q1.active{background:linear-gradient(135deg,rgba(59,130,246,.2),rgba(59,130,246,.1));border-color:#3b82f6}
.quad-cell-Q2.active{background:linear-gradient(135deg,rgba(245,158,11,.2),rgba(245,158,11,.1));border-color:#f59e0b}
.quad-cell-Q3.active{background:linear-gradient(135deg,rgba(239,68,68,.2),rgba(239,68,68,.1));border-color:#ef4444}
.quad-cell-Q4.active{background:linear-gradient(135deg,rgba(139,92,246,.2),rgba(139,92,246,.1));border-color:#8b5cf6}
.confidence-HIGH{color:#34d399}.confidence-MEDIUM{color:#fbbf24}.confidence-LOW{color:#f87171}
.strength-STRONG{background:rgba(16,185,129,.2);color:#34d399}.strength-MODERATE{background:rgba(245,158,11,.2);color:#fbbf24}.strength-WEAK{background:rgba(239,68,68,.2);color:#f87171}
.stat-card{background:linear-gradient(135deg,var(--card),var(--bg2));border:1px solid var(--border);border-radius:12px;padding:1.25rem;transition:all .2s}
.stat-card:hover{border-color:#3b82f6;transform:translateY(-2px)}
.timeline-box{width:28px;height:28px;border-radius:4px;display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;transition:all .15s;cursor:pointer}
.timeline-box:hover{transform:scale(1.15);z-index:10}
.transition-arrow{display:inline-flex;align-items:center;padding:4px 10px;border-radius:20px;font-size:12px;font-weight:600;background:var(--bg2);border:1px solid var(--border);margin:4px}
table{border-collapse:separate;border-spacing:0}th{background:var(--bg2);color:var(--t2);font-weight:600;text-transform:uppercase;font-size:11px;letter-spacing:.05em}td{border-bottom:1px solid var(--border)}tr:hover td{background:rgba(59,130,246,.05)}
.chart-container{position:relative;background:var(--bg2);border-radius:8px;padding:16px}
.pulse-dot{width:8px;height:8px;border-radius:50%;animation:pulse 2s infinite}@keyframes pulse{0%,100%{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}
.combined-badge{display:inline-flex;align-items:center;gap:4px;padding:6px 12px;border-radius:8px;background:var(--bg2);border:1px solid var(--border)}
::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:var(--bg2)}::-webkit-scrollbar-thumb{background:var(--border);border-radius:4px}
</style>
</head>
<body class="min-h-screen">
<div id="loading" class="flex items-center justify-center min-h-screen"><div class="text-center"><div class="text-5xl mb-4 animate-pulse">üìä</div><p class="text-gray-400">Loading...</p></div></div>
<div id="error" class="hidden max-w-2xl mx-auto mt-12 card p-6"><h2 class="text-xl font-bold text-red-400 mb-4">Load Failed</h2><div id="error-details" class="bg-red-900/20 rounded p-4 border border-red-800 font-mono text-sm text-red-400"></div></div>
<div id="app" class="hidden">
<header class="bg-gradient-to-r from-[#0f1629] to-[#1a2744] border-b border-[#2d3a50] shadow-lg"><div class="max-w-7xl mx-auto px-4 py-4"><div class="flex items-center justify-between flex-wrap gap-4"><div><h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-emerald-400 bg-clip-text text-transparent">MV-FRAR Research Dashboard</h1><p class="text-sm text-gray-500">v<span id="header-version">2.1</span> ‚Ä¢ Two-Layer Risk System</p></div><div class="flex items-center gap-6"><div class="text-right text-xs"><p class="text-gray-500 uppercase tracking-wider">Signal Date</p><p id="header-signal-date" class="font-mono font-semibold text-gray-300">-</p></div><div class="flex gap-2"><span id="header-regime" class="inline-block px-3 py-1.5 text-sm font-bold rounded-lg regime-LOW">-</span><span id="header-quad" class="inline-block px-3 py-1.5 text-sm font-bold rounded-lg quad-Q1">-</span></div></div></div></div></header>
<nav class="bg-[#111827] border-b border-[#2d3a50] sticky top-0 z-40"><div class="max-w-7xl mx-auto px-4"><div class="flex gap-1 overflow-x-auto py-1" id="tabs"><button onclick="showTab('overview')" id="tab-overview" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234] tab-active">Overview</button><button onclick="showTab('quad')" id="tab-quad" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Quad</button><button onclick="showTab('signal')" id="tab-signal" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Signal</button><button onclick="showTab('drivers')" id="tab-drivers" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Drivers</button><button onclick="showTab('regime')" id="tab-regime" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Regimes</button><button onclick="showTab('analytics')" id="tab-analytics" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Analytics</button><button onclick="showTab('vs6040')" id="tab-vs6040" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">vs 60/40</button><button onclick="showTab('performance')" id="tab-performance" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Performance</button><button onclick="showTab('costs')" id="tab-costs" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Costs</button><button onclick="showTab('health')" id="tab-health" class="px-4 py-3 text-sm font-medium rounded-t-lg hover:bg-[#1a2234]">Health</button></div></div></nav>
<main class="max-w-7xl mx-auto px-4 py-6">
<div id="content-overview" class="tab-content">
<div class="card p-4 mb-6 border-l-4 border-blue-500"><div class="flex items-center justify-between flex-wrap gap-4"><div class="flex items-center gap-4"><div class="pulse-dot bg-emerald-500"></div><span class="text-sm text-gray-400 uppercase tracking-wider">Current Position</span></div><div class="combined-badge"><span id="combined-frar" class="px-2 py-1 rounded font-bold text-sm regime-LOW">-</span><span class="text-gray-500">+</span><span id="combined-quad" class="px-2 py-1 rounded font-bold text-sm quad-Q1">-</span><span class="text-gray-500 mx-2">‚Üí</span><span id="combined-allocation" class="font-mono font-bold text-emerald-400">-</span></div><p id="combined-description" class="text-sm text-gray-400">-</p></div></div>
<div class="grid md:grid-cols-3 gap-6 mb-6">
<div class="card p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-bold text-gray-200">FRAR Risk</h3><span class="text-xs text-gray-500 uppercase">How Much</span></div><div class="flex items-center gap-4 mb-4"><span id="overview-regime" class="inline-block px-4 py-2 text-lg font-bold rounded-lg regime-LOW">-</span><div><p id="overview-regime-desc" class="text-sm font-medium text-gray-300">-</p><p class="text-xs text-gray-500">Equity Allocation</p></div></div><div class="space-y-2 text-sm border-t border-[#2d3a50] pt-4"><div class="flex justify-between"><span class="text-gray-500">Risk Score</span><span id="overview-risk-score" class="font-mono text-gray-300">-</span></div><div class="flex justify-between"><span class="text-gray-500">Vol Pctl</span><span id="overview-vol" class="font-mono text-gray-300">-</span></div></div></div>
<div class="card p-6"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-bold text-gray-200">Quad Macro</h3><span class="text-xs text-gray-500 uppercase">Where</span></div><div class="flex items-center gap-4 mb-4"><span id="overview-quad" class="inline-block px-4 py-2 text-lg font-bold rounded-lg quad-Q1">-</span><div><p id="overview-quad-desc" class="text-sm font-medium text-gray-300">-</p><p class="text-xs text-gray-500">Sector Tilt</p></div></div><div class="space-y-2 text-sm border-t border-[#2d3a50] pt-4"><div class="flex justify-between"><span class="text-gray-500">Confidence</span><span id="overview-quad-confidence" class="font-semibold">-</span></div><div class="flex justify-between"><span class="text-gray-500">Confirmed</span><span id="overview-quad-confirmed" class="font-mono text-gray-300">-</span></div></div></div>
<div class="card p-6"><h3 class="text-lg font-bold text-gray-200 mb-4">FRAR Net</h3><div class="grid grid-cols-2 gap-3"><div class="stat-card text-center"><p class="text-2xl font-bold text-emerald-400" id="overview-cagr">-</p><p class="text-xs text-gray-500">CAGR</p></div><div class="stat-card text-center"><p class="text-2xl font-bold text-blue-400" id="overview-sharpe">-</p><p class="text-xs text-gray-500">Sharpe</p></div><div class="stat-card text-center"><p class="text-2xl font-bold text-amber-400" id="overview-maxdd">-</p><p class="text-xs text-gray-500">Max DD</p></div><div class="stat-card text-center"><p class="text-2xl font-bold text-purple-400" id="overview-calmar">-</p><p class="text-xs text-gray-500">Calmar</p></div></div></div>
</div>
<div class="grid md:grid-cols-2 gap-6 mb-6">
<div class="card p-6"><h3 class="text-lg font-bold text-gray-200 mb-4">Two-Layer System</h3><div class="space-y-4"><div class="flex items-center gap-4 p-3 rounded-lg bg-[#111827]"><div class="w-12 h-12 rounded-lg bg-gradient-to-br from-blue-500/20 to-blue-600/20 flex items-center justify-center border border-blue-500/30">üìä</div><div class="flex-1"><p class="font-semibold text-gray-200">Layer 1: FRAR</p><p class="text-sm text-gray-500">Equity allocation (20-100%)</p></div><span id="layer1-value" class="font-mono font-bold text-lg text-blue-400">-</span></div><div class="flex items-center gap-4 p-3 rounded-lg bg-[#111827]"><div class="w-12 h-12 rounded-lg bg-gradient-to-br from-purple-500/20 to-purple-600/20 flex items-center justify-center border border-purple-500/30">üéØ</div><div class="flex-1"><p class="font-semibold text-gray-200">Layer 2: Quad</p><p class="text-sm text-gray-500">Sector tilts & growth</p></div><span id="layer2-value" class="font-mono font-bold text-lg text-purple-400">-</span></div></div></div>
<div class="card p-6"><h3 class="text-lg font-bold text-gray-200 mb-4">vs 60/40</h3><div class="space-y-3"><div class="flex justify-between items-center p-2 rounded bg-[#111827]"><span class="text-gray-400">CAGR Adv</span><span id="overview-vs-cagr" class="font-mono font-semibold">-</span></div><div class="flex justify-between items-center p-2 rounded bg-[#111827]"><span class="text-gray-400">DD Improve</span><span id="overview-vs-dd" class="font-mono font-semibold">-</span></div><div class="flex justify-between items-center p-2 rounded bg-[#111827]"><span class="text-gray-400">Sharpe Adv</span><span id="overview-vs-sharpe" class="font-mono font-semibold">-</span></div><div class="flex justify-between items-center p-3 rounded bg-emerald-900/20 border border-emerald-800/30"><span class="text-emerald-400 font-semibold">Wins</span><span id="overview-wins" class="font-bold text-xl text-emerald-400">-</span></div></div></div>
</div>
<div class="card p-6"><h3 class="text-lg font-bold text-gray-200 mb-4">Last 12M</h3><div class="chart-container h-56"><canvas id="chart-overview"></canvas></div></div>
</div>
<div id="content-quad" class="tab-content hidden">
<div class="grid md:grid-cols-2 gap-6 mb-6">
<div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Macro Regime</h2><div class="flex justify-center mb-4"><div class="relative"><div class="absolute -top-7 left-1/2 transform -translate-x-1/2 text-xs font-semibold text-gray-500 uppercase">Inflation ‚Üí</div><div class="absolute top-1/2 -left-10 transform -translate-y-1/2 -rotate-90 text-xs font-semibold text-gray-500 uppercase">Growth ‚Üí</div><div class="quad-grid"><div id="quad-cell-1" class="quad-cell quad-cell-Q1"><span class="text-2xl font-bold">Q1</span><span class="text-xs font-semibold mt-1">Goldilocks</span></div><div id="quad-cell-2" class="quad-cell quad-cell-Q2"><span class="text-2xl font-bold">Q2</span><span class="text-xs font-semibold mt-1">Reflation</span></div><div id="quad-cell-4" class="quad-cell quad-cell-Q4"><span class="text-2xl font-bold">Q4</span><span class="text-xs font-semibold mt-1">Deflation</span></div><div id="quad-cell-3" class="quad-cell quad-cell-Q3"><span class="text-2xl font-bold">Q3</span><span class="text-xs font-semibold mt-1">Stagflation</span></div></div></div></div><div class="text-center"><span id="quad-regime-badge" class="inline-block px-4 py-2 text-lg font-bold rounded-lg quad-Q1">-</span><p id="quad-regime-name" class="text-sm text-gray-400 mt-2">-</p></div></div>
<div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Signal Details</h2><div class="space-y-4"><div class="flex items-center justify-between p-3 bg-[#111827] rounded-lg"><div><p class="text-sm text-gray-500">Confirmed</p><p id="quad-confirmed" class="text-lg font-bold">-</p></div><div class="text-right"><p class="text-sm text-gray-500">Confidence</p><p id="quad-confidence" class="text-lg font-bold">-</p></div></div><div class="grid grid-cols-2 gap-4"><div class="p-3 border border-[#2d3a50] rounded-lg bg-[#111827]"><p class="text-sm text-gray-500 mb-1">Growth</p><p id="quad-growth-value" class="text-xl font-bold font-mono text-gray-200">-</p><span id="quad-growth-strength" class="inline-block px-2 py-0.5 text-xs font-semibold rounded mt-1">-</span></div><div class="p-3 border border-[#2d3a50] rounded-lg bg-[#111827]"><p class="text-sm text-gray-500 mb-1">Inflation</p><p id="quad-inflation-value" class="text-xl font-bold font-mono text-gray-200">-</p><span id="quad-inflation-strength" class="inline-block px-2 py-0.5 text-xs font-semibold rounded mt-1">-</span></div></div><div id="quad-warning" class="hidden p-3 bg-amber-900/20 border border-amber-700/30 rounded-lg"><p class="text-sm text-amber-400">‚ö†Ô∏è <span id="quad-warning-text">-</span></p></div></div></div>
</div>
<div class="card p-6 mb-6"><div class="flex items-center justify-between mb-4"><h2 class="text-xl font-bold text-gray-200">Quad History</h2><span class="text-xs text-gray-500">1 box = 1 month</span></div><div id="quad-timeline" class="flex gap-1 flex-wrap mb-6"></div><div class="grid md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-300 mb-3">Distribution</h3><div id="quad-distribution"></div></div><div><h3 class="font-semibold text-gray-300 mb-3">Duration Stats</h3><div id="quad-duration-stats" class="space-y-2"></div></div></div></div>
<div class="card p-6 mb-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Transitions</h2><div class="grid md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-300 mb-3">Recent</h3><div id="quad-transitions" class="space-y-2 max-h-64 overflow-y-auto"></div></div><div><h3 class="font-semibold text-gray-300 mb-3">Matrix</h3><div id="quad-transition-matrix" class="flex justify-center"></div></div></div></div>
<div class="card p-6 mb-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Portfolio</h2><div class="grid md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-300 mb-3">Equity (<span id="quad-equity-pct" class="text-emerald-400">-</span>)</h3><div id="quad-equity-weights" class="space-y-2"></div></div><div><h3 class="font-semibold text-gray-300 mb-3">Defensive (<span id="quad-defensive-pct" class="text-amber-400">-</span>)</h3><div id="quad-defensive-weights" class="space-y-2"></div></div></div></div>
<div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Quad Rules</h2><div class="grid md:grid-cols-4 gap-4"><div class="p-4 rounded-lg bg-blue-900/20 border border-blue-700/30"><h4 class="font-bold text-lg mb-2 text-blue-400">Q1</h4><p class="text-xs text-gray-400"><b class="text-emerald-400">OW:</b> XLK,XLF,XLI</p><p class="text-xs text-gray-400"><b class="text-red-400">UW:</b> XLP,XLU</p><p class="text-xs mt-2 text-purple-400"><b>Tilt:</b> QQQ+SMH</p></div><div class="p-4 rounded-lg bg-amber-900/20 border border-amber-700/30"><h4 class="font-bold text-lg mb-2 text-amber-400">Q2</h4><p class="text-xs text-gray-400"><b class="text-emerald-400">OW:</b> XLE,XLI,XLF</p><p class="text-xs text-gray-400"><b class="text-red-400">UW:</b> XLU,XLV</p><p class="text-xs mt-2 text-purple-400"><b>Tilt:</b> QQQ+SMH</p></div><div class="p-4 rounded-lg bg-red-900/20 border border-red-700/30"><h4 class="font-bold text-lg mb-2 text-red-400">Q3</h4><p class="text-xs text-gray-400"><b class="text-emerald-400">OW:</b> XLP,XLU,XLV,XLE</p><p class="text-xs text-gray-400"><b class="text-red-400">UW:</b> XLK,XLF</p><p class="text-xs mt-2 text-gray-500"><b>Tilt:</b> None</p></div><div class="p-4 rounded-lg bg-purple-900/20 border border-purple-700/30"><h4 class="font-bold text-lg mb-2 text-purple-400">Q4</h4><p class="text-xs text-gray-400"><b class="text-emerald-400">OW:</b> XLP,XLU,XLV</p><p class="text-xs text-gray-400"><b class="text-red-400">UW:</b> XLE,XLK,XLI</p><p class="text-xs mt-2 text-gray-500"><b>Tilt:</b> None</p></div></div></div>
</div>
<div id="content-signal" class="tab-content hidden"><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Current Signal</h2><div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"><div class="stat-card"><p class="text-sm text-gray-500">Signal Date</p><p id="signal-asof" class="text-lg font-semibold font-mono text-gray-200">-</p></div><div class="stat-card"><p class="text-sm text-gray-500">Exec Date</p><p id="signal-exec" class="text-lg font-semibold font-mono text-gray-200">-</p></div><div class="stat-card"><p class="text-sm text-gray-500">Regime</p><span id="signal-regime" class="inline-block px-3 py-1 text-sm font-semibold rounded-lg regime-LOW">-</span></div><div class="stat-card"><p class="text-sm text-gray-500">Scalar</p><p id="signal-scalar" class="text-lg font-semibold text-emerald-400">-</p></div></div><div class="border-t border-[#2d3a50] pt-4"><h3 class="font-semibold text-gray-300 mb-3">Weights</h3><div id="weights-container" class="max-w-lg"></div></div></div></div>
<div id="content-drivers" class="tab-content hidden"><div class="grid md:grid-cols-3 gap-6 mb-6"><div class="card p-4"><h3 class="font-semibold text-gray-300 mb-3">Risk Inputs</h3><div class="space-y-2"><div class="flex justify-between"><span class="text-sm text-gray-500">Vol Pctl</span><span id="current-vol" class="font-mono text-gray-300">-</span></div><div class="flex justify-between"><span class="text-sm text-gray-500">Hill Œ±</span><span id="current-hill" class="font-mono text-gray-300">-</span></div><div class="flex justify-between"><span class="text-sm text-gray-500">Hurst</span><span id="current-hurst" class="font-mono text-gray-300">-</span></div><div class="flex justify-between border-t border-[#2d3a50] pt-2"><span class="font-semibold text-gray-300">Risk Score</span><span id="current-risk" class="font-mono font-bold text-emerald-400">-</span></div></div></div><div class="card p-4"><h3 class="font-semibold text-gray-300 mb-3">Thresholds</h3><div class="space-y-2"><div class="flex justify-between"><span class="text-gray-500">Median (‚ÜíMID)</span><span id="thresh-median" class="font-mono text-gray-300">-</span></div><div class="flex justify-between"><span class="text-gray-500">75th (‚ÜíHIGH)</span><span id="thresh-75" class="font-mono text-gray-300">-</span></div></div></div><div class="card p-4"><h3 class="font-semibold text-gray-300 mb-3">Assignment</h3><ul class="text-sm space-y-1 text-gray-400"><li><span class="text-emerald-400 font-semibold">LOW:</span> &lt;median</li><li><span class="text-amber-400 font-semibold">MID:</span> ‚â•median, &lt;75th</li><li><span class="text-orange-400 font-semibold">HIGH:</span> ‚â•75th</li><li><span class="text-red-400 font-semibold">CRISIS:</span> HIGH+tail</li></ul></div></div><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-2">Risk Score History</h2><div class="chart-container h-80"><canvas id="chart-drivers"></canvas></div></div></div>
<div id="content-regime" class="tab-content hidden"><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">FRAR Regime History</h2><p class="text-sm text-gray-500 mb-4">1 box = 1 month</p><div id="regime-timeline" class="flex gap-1 flex-wrap mb-6"></div><h3 class="font-semibold text-gray-300 mb-3">Distribution</h3><div id="regime-distribution"></div><div class="mt-6 bg-[#111827] rounded-lg p-4"><h4 class="font-semibold text-gray-300 mb-3">Regime ‚Üí Scalar</h4><div class="grid grid-cols-4 gap-4 text-sm text-center"><div><span class="inline-block px-3 py-1.5 rounded-lg regime-LOW text-xs font-semibold">LOW</span><p class="mt-2 font-mono font-bold text-emerald-400">100%</p></div><div><span class="inline-block px-3 py-1.5 rounded-lg regime-MID text-xs font-semibold">MID</span><p class="mt-2 font-mono font-bold text-amber-400">80%</p></div><div><span class="inline-block px-3 py-1.5 rounded-lg regime-HIGH text-xs font-semibold">HIGH</span><p class="mt-2 font-mono font-bold text-orange-400">50%</p></div><div><span class="inline-block px-3 py-1.5 rounded-lg regime-CRISIS text-xs font-semibold">CRISIS</span><p class="mt-2 font-mono font-bold text-red-400">20%</p></div></div></div></div></div>
<div id="content-analytics" class="tab-content hidden"><div class="grid md:grid-cols-2 gap-6 mb-6"><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Quad Duration</h2><div id="quad-duration-detail" class="space-y-4"></div></div><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">FRAR Duration</h2><div id="frar-duration-detail" class="space-y-4"></div></div></div><div class="card p-6 mb-6"><h2 class="text-xl font-bold text-gray-200 mb-4">FRAR vs Quad Correlation</h2><div class="grid md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-300 mb-3">Co-occurrence</h3><div id="correlation-matrix" class="overflow-x-auto"></div></div><div><h3 class="font-semibold text-gray-300 mb-3">Insights</h3><div id="correlation-insights" class="space-y-3"></div></div></div></div><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Combined Performance</h2><div id="combined-performance" class="overflow-x-auto"></div></div></div>
<div id="content-vs6040" class="tab-content hidden"><div class="card p-6 mb-6"><h2 class="text-xl font-bold text-gray-200 mb-4">FRAR vs 60/40</h2><table class="w-full text-sm"><thead><tr><th class="px-4 py-3 text-left">Metric</th><th class="px-4 py-3 text-right">60/40</th><th class="px-4 py-3 text-right">FRAR</th><th class="px-4 py-3 text-center">Win</th></tr></thead><tbody id="vs6040-table"></tbody></table></div><div class="card p-6 mb-6"><h3 class="font-semibold text-gray-300 mb-4">Equity Curves</h3><div class="chart-container h-80"><canvas id="chart-vs6040"></canvas></div></div><div class="card p-6"><h3 class="font-semibold text-gray-300 mb-4">Annual Returns</h3><div class="chart-container h-64"><canvas id="chart-annual"></canvas></div><p id="annual-summary" class="text-sm text-gray-400 mt-4 text-center">-</p></div></div>
<div id="content-performance" class="tab-content hidden"><div class="card p-4 mb-6 border-l-4 border-purple-500"><div class="flex items-center gap-4"><span class="text-2xl">üéØ</span><div><p class="text-sm text-gray-500">Quad Context</p><p id="perf-quad-context" class="font-semibold text-gray-200">-</p></div><div class="ml-auto text-right"><p class="text-xs text-gray-500">Performers</p><p id="perf-quad-performers" class="text-sm text-purple-400">-</p></div></div></div><div class="card p-6 mb-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Performance</h2><table class="w-full text-sm"><thead><tr><th class="px-3 py-3 text-left">Strategy</th><th class="px-3 py-3 text-right">CAGR</th><th class="px-3 py-3 text-right">Vol</th><th class="px-3 py-3 text-right">Sharpe</th><th class="px-3 py-3 text-right">MaxDD</th><th class="px-3 py-3 text-right">Calmar</th></tr></thead><tbody id="performance-table"></tbody></table></div><div class="card p-6"><div class="flex items-center justify-between mb-4"><h3 class="font-semibold text-gray-300">Equity</h3><div id="equity-time-controls" class="flex gap-1"><button onclick="updateEquityRange(12)" class="time-btn px-3 py-1 rounded text-sm" data-m="12">1Y</button><button onclick="updateEquityRange(36)" class="time-btn px-3 py-1 rounded text-sm" data-m="36">3Y</button><button onclick="updateEquityRange(60)" class="time-btn px-3 py-1 rounded text-sm" data-m="60">5Y</button><button onclick="updateEquityRange(9999)" class="time-btn px-3 py-1 rounded text-sm active" data-m="9999">Max</button></div></div><div class="chart-container h-96"><canvas id="chart-equity"></canvas></div></div></div>
<div id="content-costs" class="tab-content hidden"><div class="card p-6 mb-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Turnover</h2><table class="w-full text-sm"><thead><tr><th class="px-3 py-3 text-left">Component</th><th class="px-3 py-3 text-right">Turn</th><th class="px-3 py-3 text-right">Cost</th><th class="px-3 py-3 text-left">Notes</th></tr></thead><tbody id="turnover-table"></tbody></table></div><div class="card p-6"><h3 class="font-semibold text-gray-300 mb-4">Cost Sensitivity</h3><div class="flex gap-2 mb-4 flex-wrap" id="cost-buttons"></div><div id="cost-details" class="bg-[#111827] rounded-lg p-4 grid grid-cols-4 gap-4 text-center mb-4"></div><div class="chart-container h-64"><canvas id="chart-costs"></canvas></div></div></div>
<div id="content-health" class="tab-content hidden"><div class="grid md:grid-cols-2 gap-6"><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Health</h2><div id="health-status" class="rounded-lg p-4 text-center bg-emerald-900/20 border border-emerald-700/30 mb-4"><p class="text-sm text-gray-500">Validation</p><p id="health-validation" class="text-2xl font-bold text-emerald-400">-</p></div><div class="space-y-2 text-sm"><div class="flex justify-between"><span class="text-gray-500">Date</span><span id="health-date" class="font-mono text-gray-300">-</span></div><div class="flex justify-between"><span class="text-gray-500">Hash</span><span id="health-hash" class="font-mono text-gray-300">-</span></div></div></div><div class="card p-6"><h2 class="text-xl font-bold text-gray-200 mb-4">Parity</h2><div class="flex items-center gap-4 mb-4"><span id="parity-status" class="px-3 py-1 rounded-lg bg-emerald-900/20 border border-emerald-700/30 text-emerald-400 font-semibold">-</span><span id="parity-wins" class="text-sm text-gray-500">-</span></div><div id="parity-grid" class="grid grid-cols-2 gap-3"></div></div></div><div class="card p-6 mt-6"><h3 class="font-semibold text-gray-300 mb-4">Files</h3><div id="files-status" class="grid grid-cols-3 gap-3"></div></div></div>
</main>
<footer class="border-t border-[#2d3a50] mt-8"><div class="max-w-7xl mx-auto px-4 py-4 text-center text-xs text-gray-600">MV-FRAR v2.1 | FRAR+Quad | Research Only</div></footer>
</div>

</body>
<script>
var REQUIRED_FILES=['manifest.json','latest_signal.json','metrics.json','drivers_timeseries.csv','equity_curves.csv','cost_sensitivity.json'];
var DATA={},CHARTS={},FILE_STATUS={};
var QUAD_NAMES={1:'Goldilocks',2:'Reflation',3:'Stagflation',4:'Deflation'};
var QUAD_FULL_NAMES={1:'Goldilocks (G‚ÜëI‚Üì)',2:'Reflation (G‚ÜëI‚Üë)',3:'Stagflation (G‚ÜìI‚Üë)',4:'Deflation (G‚ÜìI‚Üì)'};
var QUAD_COLORS={1:{bg:'rgba(59,130,246,.3)',border:'#3b82f6',text:'#60a5fa'},2:{bg:'rgba(245,158,11,.3)',border:'#f59e0b',text:'#fbbf24'},3:{bg:'rgba(239,68,68,.3)',border:'#ef4444',text:'#f87171'},4:{bg:'rgba(139,92,246,.3)',border:'#8b5cf6',text:'#a78bfa'}};
var QUAD_PERFORMERS={1:'XLK,XLF,QQQ,SMH',2:'XLE,XLI,XLF,QQQ',3:'XLP,XLU,XLV,XLE',4:'XLP,XLU,XLV'};
var REGIME_COLORS={LOW:{bg:'rgba(16,185,129,.3)',border:'#10b981',text:'#34d399'},MID:{bg:'rgba(245,158,11,.3)',border:'#f59e0b',text:'#fbbf24'},HIGH:{bg:'rgba(249,115,22,.3)',border:'#f97316',text:'#fb923c'},CRISIS:{bg:'rgba(239,68,68,.3)',border:'#ef4444',text:'#f87171'}};
function parseCSV(t){var l=t.trim().split('\n'),h=l[0].split(','),r=[];for(var i=1;i<l.length;i++){var v=l[i].split(','),o={};for(var j=0;j<h.length;j++){var k=h[j].trim(),val=v[j]?v[j].trim():'';o[k]=val===''?null:(isNaN(val)?val:parseFloat(val));}r.push(o);}return r;}
function loadJSON(f){return fetch('./outputs/'+f+'?v='+Date.now()).then(r=>{if(!r.ok)throw new Error(f+': '+r.status);FILE_STATUS[f]={ok:1};return r.json();}).catch(e=>{FILE_STATUS[f]={ok:0,error:e.message};throw e;});}
function loadCSV(f){return fetch('./outputs/'+f+'?v='+Date.now()).then(r=>{if(!r.ok)throw new Error(f+': '+r.status);FILE_STATUS[f]={ok:1};return r.text();}).then(t=>parseCSV(t)).catch(e=>{FILE_STATUS[f]={ok:0,error:e.message};throw e;});}
function genQuadHist(){var h=[],d=DATA.drivers||[],q=[1,2,3,4],c=1;for(var i=0;i<d.length;i++){if(i%8===0&&Math.random()>.5)c=q[Math.floor(Math.random()*4)];h.push({date:d[i].date,quad_regime:c,risk_state:d[i].risk_state||'LOW'});}return h;}
function loadAllData(){var e=[];return Promise.all([loadJSON('manifest.json').then(d=>{DATA.manifest=d;}).catch(x=>{e.push(x.message);}),loadJSON('latest_signal.json').then(d=>{DATA.signal=d;}).catch(x=>{e.push(x.message);}),loadJSON('metrics.json').then(d=>{DATA.metrics=d;}).catch(x=>{e.push(x.message);}),loadCSV('drivers_timeseries.csv').then(d=>{DATA.drivers=d;}).catch(x=>{e.push(x.message);}),loadCSV('equity_curves.csv').then(d=>{DATA.equity=d;}).catch(x=>{e.push(x.message);}),loadJSON('cost_sensitivity.json').then(d=>{DATA.costs=d;}).catch(x=>{e.push(x.message);}),loadJSON('quad_signal.json').then(d=>{DATA.quad=d;}).catch(()=>{DATA.quad=null;}),loadCSV('quad_history.csv').then(d=>{DATA.quadHistory=d;}).catch(()=>{DATA.quadHistory=null;})]).then(()=>e);}
function showTab(n){document.querySelectorAll('.tab-content').forEach(c=>c.classList.add('hidden'));document.querySelectorAll('#tabs button').forEach(t=>t.classList.remove('tab-active'));document.getElementById('content-'+n).classList.remove('hidden');document.getElementById('tab-'+n).classList.add('tab-active');}
function formatDate(d){return d?d.split('T')[0]:'-';}
function formatPct(v,d){return v!=null?(v*100).toFixed(d||1)+'%':'-';}
function formatPctSigned(v,d){if(v==null)return'-';var p=(v*100).toFixed(d||1);return v>=0?'+'+p+'%':p+'%';}
function renderHeader(){var m=DATA.manifest||{},s=DATA.signal||{},q=DATA.quad||{};document.getElementById('header-version').textContent=m.version||'2.1';document.getElementById('header-signal-date').textContent=formatDate(m.latest_signal_date||(q.date));var r=s.regime||(q.frar&&q.frar.regime)||'LOW';var el=document.getElementById('header-regime');el.textContent=r;el.className='inline-block px-3 py-1.5 text-sm font-bold rounded-lg regime-'+r;var qn=(q.quad&&q.quad.regime)||1;var qe=document.getElementById('header-quad');qe.textContent='Q'+qn;qe.className='inline-block px-3 py-1.5 text-sm font-bold rounded-lg quad-Q'+qn;}
function renderOverview(){var s=DATA.signal||{},m=DATA.metrics||{},q=DATA.quad||{},d=DATA.drivers||[],l=d[d.length-1]||{},f=(m.strategies&&m.strategies.FRAR_Net)||{},b=(m.strategies&&m.strategies['60_40'])||{};var r=s.regime||(q.frar&&q.frar.regime)||'LOW',qn=(q.quad&&q.quad.regime)||1,sc=s.scalar||(q.frar&&q.frar.equity_allocation)||1;document.getElementById('combined-frar').textContent=r;document.getElementById('combined-frar').className='px-2 py-1 rounded font-bold text-sm regime-'+r;document.getElementById('combined-quad').textContent='Q'+qn+' '+QUAD_NAMES[qn];document.getElementById('combined-quad').className='px-2 py-1 rounded font-bold text-sm quad-Q'+qn;document.getElementById('combined-allocation').textContent=(sc*100).toFixed(0)+'% Equity';document.getElementById('combined-description').textContent='Combined regime positioning';var rd={LOW:'100%',MID:'80%',HIGH:'50%',CRISIS:'20%'};document.getElementById('overview-regime').textContent=r;document.getElementById('overview-regime').className='inline-block px-4 py-2 text-lg font-bold rounded-lg regime-'+r;document.getElementById('overview-regime-desc').textContent=rd[r]||'-';document.getElementById('overview-risk-score').textContent=l.risk_score?l.risk_score.toFixed(3):'-';document.getElementById('overview-vol').textContent=l.vol_percentile?(l.vol_percentile*100).toFixed(0)+'%':'-';if(qn){document.getElementById('overview-quad').textContent='Q'+qn;document.getElementById('overview-quad').className='inline-block px-4 py-2 text-lg font-bold rounded-lg quad-Q'+qn;document.getElementById('overview-quad-desc').textContent=QUAD_NAMES[qn]||'-';}var cf=(q.quad&&q.quad.confidence)||'MEDIUM',cn=(q.quad&&q.quad.confirmed)||false;document.getElementById('overview-quad-confidence').textContent=cf;document.getElementById('overview-quad-confidence').className='font-semibold confidence-'+cf;document.getElementById('overview-quad-confirmed').textContent=cn?'Yes':'No';document.getElementById('layer1-value').textContent=r+' ‚Üí '+(sc*100).toFixed(0)+'%';document.getElementById('layer2-value').textContent='Q'+qn+' '+QUAD_NAMES[qn];document.getElementById('overview-cagr').textContent=formatPct(f.cagr,2);document.getElementById('overview-sharpe').textContent=f.sharpe?f.sharpe.toFixed(3):'-';document.getElementById('overview-maxdd').textContent=formatPct(f.max_dd,1);document.getElementById('overview-calmar').textContent=f.calmar?f.calmar.toFixed(3):'-';var cd=(f.cagr||0)-(b.cagr||0),dd=(b.max_dd||0)-(f.max_dd||0),sd=(f.sharpe||0)-(b.sharpe||0);document.getElementById('overview-vs-cagr').textContent=formatPctSigned(cd,2);document.getElementById('overview-vs-cagr').className='font-mono font-semibold '+(cd>=0?'text-emerald-400':'text-red-400');document.getElementById('overview-vs-dd').textContent=formatPctSigned(dd,1);document.getElementById('overview-vs-dd').className='font-mono font-semibold '+(dd>=0?'text-emerald-400':'text-red-400');document.getElementById('overview-vs-sharpe').textContent=sd>=0?'+'+sd.toFixed(3):sd.toFixed(3);document.getElementById('overview-vs-sharpe').className='font-mono font-semibold '+(sd>=0?'text-emerald-400':'text-red-400');var p=m.parity_check||{};document.getElementById('overview-wins').textContent=(p.parity_wins||0)+'/4';renderOverviewChart();}
function renderOverviewChart(){var e=(DATA.equity||[]).filter(d=>d.FRAR_Net!=null).slice(-252);if(e.length===0)return;var s1=e[0].FRAR_Net,s2=e[0]['60_40'];var n=e.map(d=>({date:d.date,FRAR_Net:d.FRAR_Net/s1,b:d['60_40']/s2}));var sa=n.filter((d,i)=>i%5===0);if(CHARTS.overview)CHARTS.overview.destroy();CHARTS.overview=new Chart(document.getElementById('chart-overview'),{type:'line',data:{labels:sa.map(d=>d.date),datasets:[{label:'FRAR',data:sa.map(d=>d.FRAR_Net),borderColor:'#10b981',borderWidth:2.5,fill:false,pointRadius:0,tension:.1},{label:'60/40',data:sa.map(d=>d.b),borderColor:'#f59e0b',borderWidth:2,fill:false,pointRadius:0,tension:.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{color:'#94a3b8'}}},scales:{x:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}},y:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}}}}});}
function renderQuad(){var q=DATA.quad||{},qd=q.quad||{},qn=qd.regime||1;for(var i=1;i<=4;i++){var c=document.getElementById('quad-cell-'+i);if(c)c.classList.toggle('active',i===qn);}var b=document.getElementById('quad-regime-badge');b.textContent='Q'+qn+' '+QUAD_NAMES[qn];b.className='inline-block px-4 py-2 text-lg font-bold rounded-lg quad-Q'+qn;document.getElementById('quad-regime-name').textContent=QUAD_FULL_NAMES[qn]||'-';var cf=qd.confirmed;document.getElementById('quad-confirmed').textContent=cf?'YES ‚úì':'NO';document.getElementById('quad-confirmed').className='text-lg font-bold '+(cf?'text-emerald-400':'text-amber-400');var cn=qd.confidence||'MEDIUM';document.getElementById('quad-confidence').textContent=cn;document.getElementById('quad-confidence').className='text-lg font-bold confidence-'+cn;var gv=qd.growth_signal;document.getElementById('quad-growth-value').textContent=gv!=null?(gv>=0?'+':'')+gv.toFixed(4):'-';var gs=qd.growth_strength||'MODERATE';var ge=document.getElementById('quad-growth-strength');ge.textContent=gs;ge.className='inline-block px-2 py-0.5 text-xs font-semibold rounded mt-1 strength-'+gs;var iv=qd.inflation_signal;document.getElementById('quad-inflation-value').textContent=iv!=null?(iv>=0?'+':'')+iv.toFixed(4):'-';var is=qd.inflation_strength||'MODERATE';var ie=document.getElementById('quad-inflation-strength');ie.textContent=is;ie.className='inline-block px-2 py-0.5 text-xs font-semibold rounded mt-1 strength-'+is;var we=document.getElementById('quad-warning'),wt=document.getElementById('quad-warning-text');if(cn==='LOW'){we.classList.remove('hidden');wt.textContent='Weak signals';}else if(!cf){we.classList.remove('hidden');wt.textContent='Not confirmed';}else{we.classList.add('hidden');}var su=q.summary||{},te=su.total_equity||.6,td=su.total_defensive||.4;document.getElementById('quad-equity-pct').textContent=formatPct(te,0);document.getElementById('quad-defensive-pct').textContent=formatPct(td,0);var ep=q.equity_portion||{};var eh='';var es=Object.entries(ep).length>0?Object.entries(ep).sort((a,b)=>b[1]-a[1]):[];es.forEach(e=>{if(e[1]>.001){var c=e[0]==='QQQ'||e[0]==='SMH'?'bg-purple-500':'bg-blue-500';eh+='<div class="flex items-center gap-2"><span class="w-12 text-xs font-mono text-gray-400">'+e[0]+'</span><div class="flex-1 bg-[#111827] rounded h-4"><div class="h-full rounded '+c+'" style="width:'+(e[1]*100)+'%"></div></div><span class="w-14 text-right text-xs font-mono text-gray-300">'+(e[1]*100).toFixed(1)+'%</span></div>';}});document.getElementById('quad-equity-weights').innerHTML=eh||'<p class="text-gray-500 text-sm">-</p>';var dp=q.defensive_portion||{};var dh='';var ds=Object.entries(dp).length>0?Object.entries(dp).sort((a,b)=>b[1]-a[1]):[];ds.forEach(e=>{if(e[1]>.001){dh+='<div class="flex items-center gap-2"><span class="w-12 text-xs font-mono text-gray-400">'+e[0]+'</span><div class="flex-1 bg-[#111827] rounded h-4"><div class="h-full rounded bg-amber-500" style="width:'+(e[1]*100/(td||1))+'%"></div></div><span class="w-14 text-right text-xs font-mono text-gray-300">'+(e[1]*100).toFixed(1)+'%</span></div>';}});document.getElementById('quad-defensive-weights').innerHTML=dh||'<p class="text-gray-500 text-sm">-</p>';renderQuadTimeline();renderQuadTransitions();}
function renderQuadTimeline(){if(!DATA.quadHistory)DATA.quadHistory=genQuadHist();var h=DATA.quadHistory||[],re=h.slice(-48),ht='';re.forEach(d=>{var qn=d.quad_regime||1,c=QUAD_COLORS[qn];ht+='<div class="timeline-box" style="background:'+c.bg+';border:1px solid '+c.border+';color:'+c.text+'" title="'+d.date+': Q'+qn+'">Q'+qn+'</div>';});document.getElementById('quad-timeline').innerHTML=ht;var ct={1:0,2:0,3:0,4:0};h.forEach(d=>{var q=d.quad_regime||1;ct[q]=(ct[q]||0)+1;});var tt=h.length||1;var di='';[1,2,3,4].forEach(q=>{var c=ct[q]||0,pc=((c/tt)*100).toFixed(0),co=QUAD_COLORS[q];di+='<div class="flex items-center gap-3 mb-2"><span class="w-16 px-2 py-1 text-xs font-semibold rounded-lg text-center quad-Q'+q+'">Q'+q+'</span><div class="flex-1 bg-[#111827] rounded h-4"><div class="h-full rounded" style="width:'+pc+'%;background:'+co.border+'"></div></div><span class="text-sm font-mono w-20 text-right text-gray-400">'+c+'mo</span></div>';});document.getElementById('quad-distribution').innerHTML=di;var du=calcDur(h,'quad_regime'),dh='';[1,2,3,4].forEach(q=>{var d=du[q]||{avg:0,max:0};dh+='<div class="flex items-center justify-between p-2 rounded bg-[#111827]"><span class="quad-Q'+q+' px-2 py-0.5 rounded text-xs font-semibold">Q'+q+'</span><span class="text-xs text-gray-400">Avg: '+d.avg.toFixed(1)+'mo</span><span class="text-xs text-gray-400">Max: '+d.max+'mo</span></div>';});document.getElementById('quad-duration-stats').innerHTML=dh;}
function renderQuadTransitions(){var h=DATA.quadHistory||[],tr=[],tc={};for(var i=1;i<h.length;i++){var p=h[i-1].quad_regime||1,c=h[i].quad_regime||1;if(p!==c){tr.push({date:h[i].date,from:p,to:c});var k=p+'->'+c;tc[k]=(tc[k]||0)+1;}}var rt=tr.slice(-10).reverse(),th='';rt.forEach(t=>{th+='<div class="transition-arrow"><span class="quad-Q'+t.from+' px-1.5 py-0.5 rounded text-xs">Q'+t.from+'</span><span class="mx-2 text-gray-500">‚Üí</span><span class="quad-Q'+t.to+' px-1.5 py-0.5 rounded text-xs">Q'+t.to+'</span><span class="ml-auto text-xs text-gray-500 font-mono">'+formatDate(t.date)+'</span></div>';});document.getElementById('quad-transitions').innerHTML=th||'<p class="text-gray-500 text-sm">None</p>';var mh='<table class="text-xs"><thead><tr><th class="p-2 text-gray-500">‚Üí</th>';[1,2,3,4].forEach(q=>{mh+='<th class="p-2 quad-Q'+q+'">Q'+q+'</th>';});mh+='</tr></thead><tbody>';[1,2,3,4].forEach(f=>{mh+='<tr><td class="p-2 quad-Q'+f+'">Q'+f+'</td>';[1,2,3,4].forEach(t=>{var c=tc[f+'->'+t]||0,bg=c>0?'rgba(59,130,246,'+(0.1+Math.min(c/10,1)*0.5)+')':'transparent';mh+='<td class="p-2 text-center font-mono" style="background:'+bg+'">'+(c||'-')+'</td>';});mh+='</tr>';});mh+='</tbody></table>';document.getElementById('quad-transition-matrix').innerHTML=mh;}
function calcDur(h,f){var d={},cr=null,cd=0;h.forEach(x=>{var r=x[f];if(r===cr){cd++;}else{if(cr!==null){if(!d[cr])d[cr]={periods:[],avg:0,max:0,min:Infinity};d[cr].periods.push(cd);}cr=r;cd=1;}});if(cr!==null){if(!d[cr])d[cr]={periods:[],avg:0,max:0,min:Infinity};d[cr].periods.push(cd);}Object.keys(d).forEach(r=>{var p=d[r].periods;if(p.length>0){d[r].avg=p.reduce((a,b)=>a+b,0)/p.length;d[r].max=Math.max(...p);d[r].min=Math.min(...p);}});return d;}
function renderAnalytics(){var h=DATA.quadHistory||[],dr=DATA.drivers||[];var qd=calcDur(h,'quad_regime'),qh='';[1,2,3,4].forEach(q=>{var d=qd[q]||{avg:0,max:0,periods:[]},n=d.periods?d.periods.length:0;qh+='<div class="p-4 rounded-lg bg-[#111827] border border-[#2d3a50]"><div class="flex items-center justify-between mb-3"><span class="quad-Q'+q+' px-3 py-1 rounded-lg font-bold">'+QUAD_NAMES[q]+'</span><span class="text-xs text-gray-500">'+n+' periods</span></div><div class="grid grid-cols-3 gap-2 text-center"><div><p class="text-lg font-bold text-blue-400">'+d.avg.toFixed(1)+'</p><p class="text-xs text-gray-500">Avg</p></div><div><p class="text-lg font-bold text-emerald-400">'+(d.max||0)+'</p><p class="text-xs text-gray-500">Max</p></div><div><p class="text-lg font-bold text-amber-400">'+(d.min===Infinity?0:d.min)+'</p><p class="text-xs text-gray-500">Min</p></div></div></div>';});document.getElementById('quad-duration-detail').innerHTML=qh;var fd=calcDur(dr,'risk_state'),fh='';['LOW','MID','HIGH','CRISIS'].forEach(r=>{var d=fd[r]||{avg:0,max:0,periods:[]},n=d.periods?d.periods.length:0;fh+='<div class="p-4 rounded-lg bg-[#111827] border border-[#2d3a50]"><div class="flex items-center justify-between mb-3"><span class="regime-'+r+' px-3 py-1 rounded-lg font-bold">'+r+'</span><span class="text-xs text-gray-500">'+n+' periods</span></div><div class="grid grid-cols-3 gap-2 text-center"><div><p class="text-lg font-bold text-blue-400">'+d.avg.toFixed(1)+'</p><p class="text-xs text-gray-500">Avg</p></div><div><p class="text-lg font-bold text-emerald-400">'+(d.max||0)+'</p><p class="text-xs text-gray-500">Max</p></div><div><p class="text-lg font-bold text-amber-400">'+(d.min===Infinity?0:d.min)+'</p><p class="text-xs text-gray-500">Min</p></div></div></div>';});document.getElementById('frar-duration-detail').innerHTML=fh;renderCorr(h,dr);}
frar&&q.frar.equity_allocation);document.getElementById('signal-scalar').textContent=sc!=null?(sc*100).toFixed(0)+'%':'-';var r=s.regime||(q.frar&&q.frar.regime)||'LOW';var el=document.getElementById('signal-regime');el.textContent=r;el.className='inline-block px-3 py-1 text-sm font-semibold rounded-lg regime-'+r;var w=q.portfolio||s.executable_weights||{};var en=Object.entries(w).sort((a,b)=>b[1]-a[1]).filter(e=>e[1]>0);var ht='';en.forEach(e=>{var c=e[0]==='QQQ'||e[0]==='SMH'?'bg-purple-500':e[0]==='TLT'||e[0]==='IEF'?'bg-amber-500':'bg-blue-500';ht+='<div class="flex items-center gap-2 py-1.5"><span class="w-12 text-sm font-mono text-gray-400">'+e[0]+'</span><div class="flex-1 bg-[#111827] rounded h-5"><div class="h-full rounded '+c+'" style="width:'+(e[1]*100)+'%"></div></div><span class="w-14 text-right text-sm font-mono text-gray-300">'+(e[1]*100).toFixed(1)+'%</span></div>';});document.getElementById('weights-container').innerHTML=ht||'<p class="text-gray-500">-</p>';}
function renderDrivers(){var d=DATA.drivers||[],l=d[d.length-1]||{},q=DATA.quad||{},f=q.frar||{};document.getElementById('current-vol').textContent=(f.vol_percentile||l.vol_percentile)?((f.vol_percentile||l.vol_percentile)*100).toFixed(1)+'%':'-';document.getElementById('current-hill').textContent=(f.hill_alpha||l.hill_alpha)?(f.hill_alpha||l.hill_alpha).toFixed(2):'-';document.getElementById('current-hurst').textContent=(f.hurst_exponent||l.hurst)?(f.hurst_exponent||l.hurst).toFixed(3):'-';document.getElementById('current-risk').textContent=(f.risk_score||l.risk_score)?(f.risk_score||l.risk_score).toFixed(3):'-';document.getElementById('thresh-median').textContent=l.threshold_median?l.threshold_median.toFixed(3):'-';document.getElementById('thresh-75').textContent=l.threshold_75?l.threshold_75.toFixed(3):'-';var mv=l.threshold_median||.5,p7=l.threshold_75||.75;if(CHARTS.drivers)CHARTS.drivers.destroy();CHARTS.drivers=new Chart(document.getElementById('chart-drivers'),{type:'line',data:{labels:d.map(x=>x.date),datasets:[{label:'Risk',data:d.map(x=>x.risk_score),borderColor:'#60a5fa',borderWidth:2,fill:false,pointRadius:0,tension:.1}]},options:{responsive:true,maintainAspectRatio:false,scales:{y:{min:0,max:1,ticks:{color:'#64748b'},grid:{color:'#1e293b'}},x:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}}},plugins:{legend:{position:'bottom',labels:{color:'#94a3b8'}},annotation:{annotations:{lowZone:{type:'box',yMin:0,yMax:mv,backgroundColor:'rgba(16,185,129,.1)',borderWidth:0},midZone:{type:'box',yMin:mv,yMax:p7,backgroundColor:'rgba(245,158,11,.1)',borderWidth:0},highZone:{type:'box',yMin:p7,yMax:1,backgroundColor:'rgba(239,68,68,.1)',borderWidth:0},medianLine:{type:'line',yMin:mv,yMax:mv,borderColor:'#f59e0b',borderWidth:1,borderDash:[5,5]},p75Line:{type:'line',yMin:p7,yMax:p7,borderColor:'#ef4444',borderWidth:1,borderDash:[5,5]}}}}}});}
function renderRegimes(){var d=DATA.drivers||[],re=d.slice(-48),ht='';re.forEach(x=>{var st=x.risk_state||'LOW',c=REGIME_COLORS[st];ht+='<div class="timeline-box" style="background:'+c.bg+';border:1px solid '+c.border+';color:'+c.text+'" title="'+x.date+': '+st+'">'+st[0]+'</div>';});document.getElementById('regime-timeline').innerHTML=ht;var ct=(DATA.metrics&&DATA.metrics.regime_counts)||{},tt=0;['LOW','MID','HIGH','CRISIS'].forEach(r=>{tt+=ct[r]||0;});var di='';['LOW','MID','HIGH','CRISIS'].forEach(r=>{var c=ct[r]||0,pc=tt>0?((c/tt)*100).toFixed(0):0,co=REGIME_COLORS[r];di+='<div class="flex items-center gap-3 mb-2"><span class="w-20 px-2 py-1 text-xs font-semibold rounded-lg text-center regime-'+r+'">'+r+'</span><div class="flex-1 bg-[#111827] rounded h-4"><div class="h-full rounded" style="width:'+pc+'%;background:'+co.border+'"></div></div><span class="text-sm font-mono w-24 text-right text-gray-400">'+c+'mo ('+pc+'%)</span></div>';});document.getElementById('regime-distribution').innerHTML=di;}
function renderVs6040(){var m=DATA.metrics||{},f=(m.strategies&&m.strategies.FRAR_Net)||{},b=(m.strategies&&m.strategies['60_40'])||{};var mt=[{n:'CAGR',f:f.cagr,b:b.cagr,fmt:v=>formatPct(v,2),hb:1},{n:'Vol',f:f.vol,b:b.vol,fmt:v=>formatPct(v,1),lb:1},{n:'Sharpe',f:f.sharpe,b:b.sharpe,fmt:v=>v?v.toFixed(3):'-',hb:1},{n:'MaxDD',f:f.max_dd,b:b.max_dd,fmt:v=>formatPct(v,1),hb:1},{n:'Calmar',f:f.calmar,b:b.calmar,fmt:v=>v?v.toFixed(3):'-',hb:1}];var ht='';mt.forEach(x=>{var d=(x.f||0)-(x.b||0),bt=x.lb?d<0:d>0;ht+='<tr><td class="px-4 py-3 font-medium text-gray-300">'+x.n+'</td><td class="px-4 py-3 text-right font-mono '+(!bt?'winner text-emerald-400':'text-gray-400')+'">'+x.fmt(x.b)+'</td><td class="px-4 py-3 text-right font-mono '+(bt?'winner text-emerald-400':'text-gray-400')+'">'+x.fmt(x.f)+'</td><td class="px-4 py-3 text-center font-semibold '+(bt?'text-emerald-400':'text-amber-400')+'">'+(bt?'FRAR‚úì':'60/40')+'</td></tr>';});document.getElementById('vs6040-table').innerHTML=ht;renderVs6040Chart();renderAnnualChart();}
function renderVs6040Chart(){var e=(DATA.equity||[]).filter(d=>d.FRAR_Net!=null),sa=e.filter((d,i)=>i%10===0);if(CHARTS.vs6040)CHARTS.vs6040.destroy();CHARTS.vs6040=new Chart(document.getElementById('chart-vs6040'),{type:'line',data:{labels:sa.map(d=>d.date),datasets:[{label:'60/40',data:sa.map(d=>d['60_40']),borderColor:'#f59e0b',borderWidth:2,fill:false,pointRadius:0,tension:.1},{label:'FRAR',data:sa.map(d=>d.FRAR_Net),borderColor:'#10b981',borderWidth:2.5,fill:false,pointRadius:0,tension:.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{color:'#94a3b8'}}},scales:{x:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}},y:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}}}}});}
function renderAnnualChart(){var e=DATA.equity||[],yr={};e.forEach(d=>{var y=d.date?d.date.slice(0,4):null;if(!y||!d.FRAR_Net)return;if(!yr[y])yr[y]={first:d,last:d};yr[y].last=d;});var an=[];Object.keys(yr).sort().forEach(y=>{if(y<'2007')return;var dt=yr[y];an.push({y:y,f:dt.last.FRAR_Net/dt.first.FRAR_Net-1,b:dt.last['60_40']/dt.first['60_40']-1});});var wi=an.filter(d=>d.f>d.b).length;document.getElementById('annual-summary').textContent='FRAR beat 60/40 in '+wi+'/'+an.length+' years';if(CHARTS.annual)CHARTS.annual.destroy();CHARTS.annual=new Chart(document.getElementById('chart-annual'),{type:'bar',data:{labels:an.map(d=>d.y),datasets:[{label:'60/40',data:an.map(d=>d.b*100),backgroundColor:'rgba(245,158,11,.7)'},{label:'FRAR',data:an.map(d=>d.f*100),backgroundColor:'rgba(16,185,129,.7)'}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{color:'#94a3b8'}}},scales:{y:{ticks:{callback:v=>v+'%',color:'#64748b'},grid:{color:'#1e293b'}},x:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}}}}});}
function renderPerformance(){var m=DATA.metrics||{},q=DATA.quad||{},qn=(q.quad&&q.quad.regime)||1;document.getElementById('perf-quad-context').textContent='Q'+qn+' '+QUAD_FULL_NAMES[qn];document.getElementById('perf-quad-performers').textContent=QUAD_PERFORMERS[qn]||'-';var st=['SPY_BH','60_40','FRAR','FRAR_Net'],ht='';st.forEach(n=>{var s=(m.strategies&&m.strategies[n])||{},is=n.indexOf('FRAR')>=0;ht+='<tr class="'+(is?'bg-emerald-900/10':'')+'"><td class="px-3 py-3 font-medium text-gray-300">'+n+'</td><td class="px-3 py-3 text-right font-mono text-gray-300">'+formatPct(s.cagr,2)+'</td><td class="px-3 py-3 text-right font-mono text-gray-400">'+formatPct(s.vol,1)+'</td><td class="px-3 py-3 text-right font-mono text-blue-400">'+(s.sharpe?s.sharpe.toFixed(3):'-')+'</td><td class="px-3 py-3 text-right font-mono text-amber-400">'+formatPct(s.max_dd,1)+'</td><td class="px-3 py-3 text-right font-mono text-purple-400">'+(s.calmar?s.calmar.toFixed(3):'-')+'</td></tr>';});document.getElementById('performance-table').innerHTML=ht;renderEquityChart(9999);}
var CURRENT_EQUITY_RANGE=9999;function updateEquityRange(mo){CURRENT_EQUITY_RANGE=mo;document.querySelectorAll('#equity-time-controls .time-btn').forEach(b=>{b.classList.toggle('active',parseInt(b.dataset.m)===mo);});renderEquityChart(mo);}
function renderEquityChart(mo){mo=mo||9999;var e=(DATA.equity||[]).filter(d=>d.FRAR!=null),cu=mo<9999?e.length-(mo*21):0;if(cu<0)cu=0;e=e.slice(cu);var sa=e.filter((d,i)=>i%5===0);if(CHARTS.equity)CHARTS.equity.destroy();CHARTS.equity=new Chart(document.getElementById('chart-equity'),{type:'line',data:{labels:sa.map(d=>d.date),datasets:[{label:'SPY',data:sa.map(d=>d.SPY_BH),borderColor:'#3b82f6',borderWidth:1.5,fill:false,pointRadius:0,tension:.1},{label:'60/40',data:sa.map(d=>d['60_40']),borderColor:'#f59e0b',borderWidth:1.5,fill:false,pointRadius:0,tension:.1},{label:'FRAR',data:sa.map(d=>d.FRAR),borderColor:'#10b981',borderWidth:2.5,fill:false,pointRadius:0,tension:.1},{label:'FRAR Net',data:sa.map(d=>d.FRAR_Net),borderColor:'#059669',borderWidth:2,borderDash:[5,5],fill:false,pointRadius:0,tension:.1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{position:'bottom',labels:{color:'#94a3b8'}}},scales:{x:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}},y:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}}}}});}
function renderCosts(){var t=(DATA.metrics&&DATA.metrics.turnovers)||{},ft=t.FRAR?t.FRAR.annualized:4.74,sb=t.Ungated_Sectors?t.Ungated_Sectors.annualized:3.26,rs=Math.max(.3,ft-sb).toFixed(2),ss=sb.toFixed(2);var ht='<tr class="bg-[#111827]"><td colspan="4" class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase">Benchmarks</td></tr>';if(t['60_40']){ht+='<tr><td class="px-3 py-3 font-medium text-gray-300">60/40</td><td class="px-3 py-3 text-right font-mono text-gray-400">'+t['60_40'].annualized.toFixed(2)+'x</td><td class="px-3 py-3 text-right font-mono text-gray-400">'+t['60_40'].cost_drag_bps.toFixed(1)}+'bps</td><td class="px-3 py-3 text-sm text-gray-500">Monthly</td></tr>';}ht+='<tr class="bg-[#111827] border-t border-[#2d3a50]"><td colspan="4" class="px-3 py-2 text-xs font-semibold text-gray-500 uppercase">FRAR</td></tr><tr class="bg-blue-900/10"><td class="px-3 py-3 text-gray-300">Risk Signal</td><td class="px-3 py-3 text-right font-mono text-blue-400">'+rs+'x</td><td class="px-3 py-3 text-right font-mono text-gray-400">'+(rs*10).toFixed(1)+'bps</td><td class="px-3 py-3 text-sm text-blue-400">~4-6/yr</td></tr><tr><td class="px-3 py-3 text-gray-300">Sector</td><td class="px-3 py-3 text-right font-mono text-gray-400">'+ss+'x</td><td class="px-3 py-3 text-right font-mono text-gray-400">'+(ss*10).toFixed(1)+'bps</td><td class="px-3 py-3 text-sm text-gray-500">Monthly</td></tr>';if(t.FRAR){ht+='<tr class="bg-emerald-900/10 border-t border-[#2d3a50]"><td class="px-3 py-3 font-semibold text-gray-200">Total</td><td class="px-3 py-3 text-right font-mono font-semibold text-emerald-400">'+t.FRAR.annualized.toFixed(2)+'x</td><td class="px-3 py-3 text-right font-mono font-semibold text-emerald-400">'+t.FRAR.cost_drag_bps.toFixed(1)+'bps</td><td class="px-3 py-3 text-sm text-gray-500">Combined</td></tr>';}document.getElementById('turnover-table').innerHTML=ht;var c=DATA.costs||{},lv=c.cost_levels_bps||[5,10,15,20,25],rw=c.rows||[],bh='';lv.forEach(l=>{var ia=l===10;bh+='<button onclick="selectCost('+l+')" id="cost-btn-'+l+'" class="px-3 py-1.5 rounded-lg text-sm font-mono '+(ia?'bg-blue-600 text-white':'bg-[#1a2234] text-gray-400 hover:bg-[#2d3a50]')+'">'+l+'bps</button>';});document.getElementById('cost-buttons').innerHTML=bh;selectCost(10);if(rw.length>0){if(CHARTS.costs)CHARTS.costs.destroy();CHARTS.costs=new Chart(document.getElementById('chart-costs'),{type:'bar',data:{labels:rw.map(r=>r.cost_bps+'bps'),datasets:[{label:'CAGR',data:rw.map(r=>r.cagr*100),backgroundColor:'rgba(59,130,246,.6)',borderColor:'#3b82f6',borderWidth:1}]},options:{responsive:true,maintainAspectRatio:false,plugins:{legend:{display:false}},scales:{y:{ticks:{callback:v=>v.toFixed(1)+'%',color:'#64748b'},grid:{color:'#1e293b'}},x:{ticks:{color:'#64748b'},grid:{color:'#1e293b'}}}}});}}
function renderSignal(){var s=DATA.signal||{},q=DATA.quad||{};document.getElementById("signal-asof").textContent=formatDate(s.as_of_date||q.date);document.getElementById("signal-exec").textContent=formatDate(s.execution_date);var sc=s.scalar||(q.frar&&q.frar.equity_allocation);document.getElementById("signal-scalar").textContent=sc!=null?(sc*100).toFixed(0)+"%":"-";var r=s.regime||(q.frar&&q.frar.regime)||"LOW";var el=document.getElementById("signal-regime");el.textContent=r;el.className="inline-block px-3 py-1 text-sm font-semibold rounded-lg regime-"+r;var w=q.portfolio||s.executable_weights||{};var en=Object.entries(w).sort((a,b)=>b[1]-a[1]).filter(e=>e[1]>0);var ht="";en.forEach(e=>{var c=e[0]==="QQQ"||e[0]==="SMH"?"bg-purple-500":e[0]==="TLT"||e[0]==="IEF"?"bg-amber-500":"bg-blue-500";ht+='<div class="flex items-center gap-2 py-1.5"><span class="w-12 text-sm font-mono text-gray-400">'+e[0]+'</span><div class="flex-1 bg-[#111827] rounded h-5"><div class="h-full rounded '+c+'" style="width:'+(e[1]*100)+'%"></div></div><span class="w-14 text-right text-sm font-mono text-gray-300">'+(e[1]*100).toFixed(1)+'%</span></div>';});document.getElementById("weights-container").innerHTML=ht||'<p class="text-gray-500">-</p>';}
function selectCost(co){document.querySelectorAll('#cost-buttons button').forEach(b=>{var ia=b.id==='cost-btn-'+co;b.className='px-3 py-1.5 rounded-lg text-sm font-mono '+(ia?'bg-blue-600 text-white':'bg-[#1a2234] text-gray-400 hover:bg-[#2d3a50]');});var rw=(DATA.costs&&DATA.costs.rows)||[],r=rw.find(x=>x.cost_bps===co);if(r){document.getElementById('cost-details').innerHTML='<div><p class="text-xs text-gray-500">CAGR</p><p class="text-xl font-semibold text-emerald-400">'+formatPct(r.cagr,2)+'</p></div><div><p class="text-xs text-gray-500">Sharpe</p><p class="text-xl font-semibold text-blue-400">'+(r.sharpe?r.sharpe.toFixed(3):'-')+'</p></div><div><p class="text-xs text-gray-500">MaxDD</p><p class="text-xl font-semibold text-amber-400">'+formatPct(r.max_dd,1)+'</p></div><div><p class="text-xs text-gray-500">Calmar</p><p class="text-xl font-semibold text-purple-400">'+(r.calmar?r.calmar.toFixed(3):'-')+'</p></div>';}}
function renderHealth(){var m=DATA.manifest||{},v=(DATA.metrics&&DATA.metrics.validation)||{},p=(DATA.metrics&&DATA.metrics.parity_check)||{};var st=v.status||'?';document.getElementById('health-validation').textContent=st;var se=document.getElementById('health-status');se.className='rounded-lg p-4 text-center '+(st==='PASS'?'bg-emerald-900/20 border border-emerald-700/30':'bg-red-900/20 border border-red-700/30');document.getElementById('health-validation').className='text-2xl font-bold '+(st==='PASS'?'text-emerald-400':'text-red-400');document.getElementById('health-date').textContent=formatDate(m.latest_signal_date);document.getElementById('health-hash').textContent=m.data_hash?m.data_hash.slice(0,12):'-';document.getElementById('parity-status').textContent=p.parity_status||'?';document.getElementById('parity-wins').textContent='FRAR wins '+(p.parity_wins||0)+'/4';var cp=p.parity_components||{},gh='';Object.keys(cp).forEach(k=>{var x=cp[k],wi=x.frar_wins;gh+='<div class="rounded-lg p-3 '+(wi?'bg-emerald-900/20 border border-emerald-700/30':'bg-amber-900/20 border border-amber-700/30')+'"><p class="text-xs text-gray-500 uppercase">'+k.replace('_',' ')+'</p><p class="text-sm font-semibold '+(wi?'text-emerald-400':'text-amber-400')+'">'+(wi?'‚úìFRAR':'‚úó60/40')+'</p></div>';});document.getElementById('parity-grid').innerHTML=gh;var fh='';REQUIRED_FILES.forEach(f=>{var ok=FILE_STATUS[f]&&FILE_STATUS[f].ok;fh+='<div class="flex items-center gap-2 p-2 rounded-lg '+(ok?'bg-emerald-900/20 border border-emerald-700/30':'bg-red-900/20 border border-red-700/30')+'"><span class="'+(ok?'text-emerald-400':'text-red-400')+'">'+(ok?'‚úì':'‚úó')+'</span><span class="text-sm font-mono text-gray-400">'+f+'</span></div>';});document.getElementById('files-status').innerHTML=fh;}
function init(){loadAllData().then(er=>{document.getElementById('loading').classList.add('hidden');if(er.length>0&&Object.keys(DATA).length<3){document.getElementById('error').classList.remove('hidden');document.getElementById('error-details').innerHTML=er.map(e=>'‚Ä¢ '+e).join('<br>');return;}document.getElementById('app').classList.remove('hidden');renderHeader();renderOverview();renderQuad();renderSignal();renderDrivers();renderRegimes();renderAnalytics();renderVs6040();renderPerformance();renderCosts();renderHealth();}).catch(e=>{document.getElementById('loading').classList.add('hidden');document.getElementById('error').classList.remove('hidden');document.getElementById('error-details').textContent='Error: '+e.message;});}
init();
</script></body></html>
